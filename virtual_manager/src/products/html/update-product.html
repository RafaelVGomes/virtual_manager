{% extends "layout.html" %}

{% block title %}
  Product - Update
{% endblock title %}

{% block main %}
  {# <script src="{{ url_for('products.static', filename='js/create-product.js')}}"></script> #}

  {# {% if product %}
  <div id="productData" hidden>
    {{ product|tojson}}
  </div>
  {% endif %} #}

  {# {% if recipes %}
  <div id="recipesData" hidden>
    {{ recipes|tojson }}
  </div>
  {% endif %} #}

  <form action="{{ url_for('products.update_product', id=product['id']) }}" method="post">
    <div class="mb-3">
      <h3 class="mx-auto w-auto">{{ product.product_name }}</h3>
    </div>
    <div class="mb-3">
      <input autocomplete="off" class="form-control mx-auto w-auto" id="amount" name="amount" placeholder="Amount"
        type="number" step="0.1" min="0" value="{{ product.amount }}">
    </div>
    <div class="mb-3">
      <select class="form-select mx-auto w-auto" name="measure" id="measure" aria-label="Unit of measurement">
        <option value="" {% if product.measure == '' %} selected {% endif %}>
          Unit of measurement
        </option>
        <option value="Kg" {% if product.measure == 'Kg' %} selected {% endif %}>
          Kg
        </option>
        <option value="L" {% if product.measure == 'L' %} selected {% endif %}>
          L
        </option>
        <option value="Unit" {% if product.measure == 'Unit' %} selected {% endif %}>
          Unit
        </option>
      </select>
    </div>
    <div class="mb-3">
      <input autocomplete="off" class="form-control mx-auto w-auto" id="quantity_alert" name="quantity_alert"
        placeholder="Quantity alert" type="number" step="0.1" min="0" value="{{ product.quantity_alert }}">
    </div>
    <div class="mb-3">
      <input autocomplete="off" class="form-control mx-auto w-auto" id="price" name="price" placeholder="Price"
        type="number" step="0.01" min="0" value="{{ product.price }}">
    </div>
    <p>Does this product have a recipe?</p>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="has_recipe" id="hasRecipe0" value="0"  {% if product.has_recipe == 0 %} checked {% endif %}>
      <label class="form-check-label" for="hasRecipe0">
        No
      </label>
    </div>
    <div class="form-check form-check-inline mb-3">
      <input class="form-check-input" type="radio" name="has_recipe" id="hasRecipe1" value="1" {% if product.has_recipe == 1 %} checked {% endif %}>
      <label class="form-check-label" for="hasRecipe1">
        Yes
      </label>
    </div>
    <div>
      <button class="btn btn-primary" type="submit">Update</button>
      <a href="{{ url_for('products.overview') }}" role="button" class="btn btn-danger">Cancel</a>
    </div>
  </form>
{% endblock main %}